(this["webpackJsonpclassplus-web-react"]=this["webpackJsonpclassplus-web-react"]||[]).push([[54],{1126:function(e,t,a){e.exports=a.p+"static/media/Vector.3eeb86f9.svg"},1142:function(e,t,a){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}a.d(t,"a",(function(){return n}))},1210:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(394);function r(e){return{type:n.a,choosenTutor:e}}},1219:function(e,t,a){"use strict";var n=a(79),r=a(2),s=a.n(r),o=a(140),i=a(2333),c=a(1220),l=a.n(c),d=(a(1126),a(1221)),u=a.n(d),p=a(1242),h=a.n(p),m=a(498),v=a(171),C=a(1187),g=a(1210),f=a(106),b=a(2292),A=a(64);t.a=Object(o.connect)((function(e){var t,a,n,r,s,o,i,c,l=e.persistedData,d=e.settingsCareTakerReducer;return{countryISO:null===l||void 0===l||null===(t=l.organization)||void 0===t?void 0:t.countryISO,careTakerUsers:null===d||void 0===d?void 0:d.careTakerUsers,selectedUser:null===d||void 0===d?void 0:d.selectedTutorData,selectedTutorDataForChats:null===d||void 0===d?void 0:d.selectedTutorDataForChats,userTutorId:null===l||void 0===l?void 0:l.tutorId,selectedCaretakerData:null===e||void 0===e||null===(a=e.settingsCareTakerReducer)||void 0===a?void 0:a.selectedCaretakerData,enquiryCaretakers:null===e||void 0===e||null===(n=e.settingsCareTakerReducer)||void 0===n?void 0:n.enquiryCaretakers,paymentCaretakers:null===e||void 0===e||null===(r=e.settingsCareTakerReducer)||void 0===r?void 0:r.paymentCaretakers,chatCaretakers:null===e||void 0===e||null===(s=e.settingsCareTakerReducer)||void 0===s?void 0:s.chatCaretakers,couponCodeCaretakers:null===e||void 0===e||null===(o=e.settingsCareTakerReducer)||void 0===o?void 0:o.couponCodeCaretakers,bannerCaretakers:null===e||void 0===e||null===(i=e.settingsCareTakerReducer)||void 0===i?void 0:i.bannerCaretakers,notificationCaretakers:null===e||void 0===e||null===(c=e.settingsCareTakerReducer)||void 0===c?void 0:c.notificationCaretakers}}),(function(e){return{saveSelectedTutorAction:function(t){return e(C.b(t))},saveSelectedTutorForChatsAction:function(t){return e(C.c(t))},setSelectedCaretakerData:function(t){return e(C.f(t))},resetTutorList:function(){return e(C.a())},setTutorId:function(t){return e(Object(g.a)(t))},getConversationList:function(t){e(Object(A.c)(t))}}}))(Object(i.a)((function(e){var t=Object(b.a)().t,a=(e.type,Object(r.useState)(!1)),o=Object(n.a)(a,2),i=o[0],c=o[1],d=Object(r.useState)([]),p=Object(n.a)(d,2),C=p[0],g=p[1],A=Object(r.useState)(null),S=Object(n.a)(A,2),_=S[0],y=S[1],E=function(t){y(t),e.type===f.a.CHATS?(localStorage.setItem("selectedChatCaretakerTutorId",null===t||void 0===t?void 0:t.tutorId),localStorage.setItem("selectedChatCaretakerData",JSON.stringify(t))):(localStorage.setItem("selectedCaretakerTutorId",null===t||void 0===t?void 0:t.tutorId),localStorage.setItem("selectedCaretakerData",JSON.stringify(t))),function(t){switch(e.type){case"enquiry":case"payments":localStorage.setItem("choosenTutor",t.tutorId),e.setTutorId([{key:t.tutorId,value:t.tutorId,data:t}]);break;case"notifications":break;case"chats":e.history.push("/messages");break;default:;}}(t),c(!1)};return Object(r.useEffect)((function(){}),[]),Object(r.useEffect)((function(){if(!_||!(null===_||void 0===_?void 0:_.name)){var t,a,n,r,s,o=JSON.parse(localStorage.getItem("selectedChatCaretakerData"));(null===(t=window)||void 0===t||null===(a=t.location)||void 0===a||null===(n=a.href)||void 0===n?void 0:n.includes("messages"))&&o?(Object(v.f)(null===o||void 0===o?void 0:o.tutorId,null===o||void 0===o?void 0:o.id),e.setSelectedCaretakerData({caretakerData:o}),E(o)):(C&&(null===C||void 0===C?void 0:C.length)&&E(C[0]),Object(v.f)(null===(r=C[0])||void 0===r?void 0:r.tutorId,null===(s=C[0])||void 0===s?void 0:s.id))}}),[_]),Object(r.useEffect)((function(){var t,a,n,r,s,o;switch(e.selectedCaretakerData&&y(e.selectedCaretakerData),e.type){case f.a.ENQUIRY:(null===(t=e.enquiryCaretakers)||void 0===t?void 0:t.length)&&g(e.enquiryCaretakers);break;case f.a.PAYMENTS:(null===(a=e.paymentCaretakers)||void 0===a?void 0:a.length)&&g(e.paymentCaretakers);break;case f.a.COUPON_CODES:(null===(n=e.couponCodeCaretakers)||void 0===n?void 0:n.length)&&g(e.couponCodeCaretakers);break;case f.a.CHATS:(null===(r=e.chatCaretakers)||void 0===r?void 0:r.length)&&g(e.chatCaretakers);break;case f.a.BANNERS:(null===(s=e.bannerCaretakers)||void 0===s?void 0:s.length)&&g(e.bannerCaretakers);break;case f.a.NOTIFICATIONS:(null===(o=e.notificationCaretakers)||void 0===o?void 0:o.length)&&g(e.notificationCaretakers);break;default:return}}),[e.selectedCaretakerData,e.enquiryCaretakers,e.paymentCaretakers,e.couponCodeCaretakers,e.chatCaretakers,e.bannerCaretakers,e.notificationCaretakers]),s.a.createElement("div",{className:l.a.StickyCareTaker,style:{visibility:e.hide?"hidden":"visible",position:e.isDiy?"":"absolute"}},s.a.createElement("div",{className:l.a.StickyCareTakerItems},s.a.createElement("p",null,t("Caretaker.viewingAs","Viewing as"),":"),s.a.createElement("div",{className:l.a.StickyCareTakerIcon},(null===_||void 0===_?void 0:_.name)?s.a.createElement(m.a,{user:{name:null===_||void 0===_?void 0:_.name,imageUrl:(null===_||void 0===_?void 0:_.imageUrl)||!1},size:24}):s.a.createElement("span",{style:{marginLeft:"10px"}},t("Caretaker.selectDropdown","Select"))),s.a.createElement("div",{className:l.a.dropdown,onClick:function(){c(!i)}},s.a.createElement("p",null,null===_||void 0===_?void 0:_.name),s.a.createElement("img",{src:"https://storage.googleapis.com/cp-prod-whitelabel-assets-as-sth1-gcs-dgte34/production/single/learn/485ea096-78a2-43bd-b96a-b3b9c4b6958e.svg",alt:"dd"})),s.a.createElement(h.a,{onOutsideClick:function(){c(!1)}},i&&s.a.createElement("div",{className:l.a.dropdownItem},C.map((function(t){return s.a.createElement("div",{className:l.a.ItemContainer,key:t.id,onClick:function(){e.type===f.a.CHATS?(Object(v.f)(null===t||void 0===t?void 0:t.tutorId,null===t||void 0===t?void 0:t.id),e.setSelectedCaretakerData({caretakerData:t}),E(t),e.getConversationList({shouldReplace:!0}),e.history.push("/messages"),e.isDiy&&window.parent.postMessage({event_id:"changeUser"},"*")):(e.setSelectedCaretakerData({caretakerData:t}),E(t),e.isDiy&&window.parent.postMessage({event_id:"changeUser"},"*"))}},s.a.createElement("div",{className:l.a.item},s.a.createElement("div",{className:l.a.StickyCareTakerItem},s.a.createElement(m.a,{user:{name:null===t||void 0===t?void 0:t.name,imageUrl:(null===t||void 0===t?void 0:t.imageUrl)||!1},size:24})),s.a.createElement("p",null,t.name)),_.tutorId===t.tutorId&&s.a.createElement("div",null,s.a.createElement("img",{src:u.a,alt:"TickIcon"})))}))))))})))},1220:function(e,t,a){e.exports={StickyCareTaker:"MultiSelectCareTakerHeader_StickyCareTaker__I-GeF",StickyCareTakerItems:"MultiSelectCareTakerHeader_StickyCareTakerItems__27qQa",StickyCareTakerItem:"MultiSelectCareTakerHeader_StickyCareTakerItem__3dZa4",StickyCareTakerIcon:"MultiSelectCareTakerHeader_StickyCareTakerIcon__3InR0",StickyCareTakerItemImage:"MultiSelectCareTakerHeader_StickyCareTakerItemImage__2oJWJ",dropdown:"MultiSelectCareTakerHeader_dropdown__3qqAH",dropdownItem:"MultiSelectCareTakerHeader_dropdownItem__3NqJv",ItemContainer:"MultiSelectCareTakerHeader_ItemContainer__PozAF",item:"MultiSelectCareTakerHeader_item__4wqMh"}},1221:function(e,t,a){e.exports=a.p+"static/media/Vector2.ac438216.svg"},1243:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACMSURBVHgBdY+9CYRAEIXnuBaugOM8Y3uwAWMDYzPFVBDtwMRcC7AGSzA3FAuwAn+e8BZkWAe+YHY/Zt6IiPxAJvbyQGKaEGwgV9I1YAbt/dGnXLJ3KPXgpddEYAU1pc4mmUrBAUbwfpJcThoYo7JJjlpnYpSirltAo9YFnFwIP/7gA2Kw38SJWb9XnBMoEBvpTwIPkAAAAABJRU5ErkJggg=="},1289:function(e,t,a){"use strict";var n=a(151),r=a(152),s=a(154),o=a(153),i=a(2),c=a.n(i),l=a(1690),d=a.n(l),u=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).dropdownBlurHandler=function(e){r.props.notCloseInsideClick&&r.dropdownContainerRef.current.contains(e.target)||(r.setState({show:!1}),r.checkBoundary(),document.removeEventListener("click",r.dropdownBlurHandler))},r.dropdownClickHandler=function(e){if(e.stopPropagation(),r.state.show)return r.setState({show:!1}),void document.removeEventListener("click",r.dropdownBlurHandler);document.addEventListener("click",r.dropdownBlurHandler),r.setState({show:!0},(function(){r.checkBoundary()}))},r.state={show:!1,top:!1,left:!1},r.dropdownContainerRef=c.a.createRef(),r}return Object(r.a)(a,[{key:"checkBoundary",value:function(){var e=this._contentRef.getBoundingClientRect();e.x+e.width>window.innerWidth&&this.setState({left:!0}),e.y+e.height>window.innerHeight&&e.height-e.y<=e.y?this.setState({top:!0}):this.setState({top:!1})}},{key:"componentDidMount",value:function(){this.checkBoundary()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.dropdownBlurHandler),clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=this.props,a=t.ddnClass,n=t.btnClass,r=d.a.Hide,s=d.a.ChatDropdown+" ChatDropdown "+this.props.customClass,o=d.a.Btn+" "+(n||"");this.state.show&&(r="",s+=" ChatDropdownOpen");var i=this.props.isIcon;return c.a.createElement("div",{className:s,onClick:this.dropdownClickHandler,ref:this.dropdownContainerRef,style:this.props.style},i?c.a.createElement("div",{style:this.props.btnStyle,className:o}):c.a.createElement("div",{style:this.props.btnStyle,className:o},this.props.name,!this.props.noCaret&&c.a.createElement("span",{className:d.a.Caret})),c.a.createElement("div",{className:d.a.Items+" "+r+" "+(a||""),onClick:function(e){return e.stopPropagation()},style:Object.assign({},this.props.ddnStyle,this.state.top?{bottom:0,top:"auto"}:{},this.state.left?{right:0,left:"auto"}:{}),ref:function(t){return e._contentRef=t}},c.a.createElement("ul",null,this.props.items)))}}]),a}(i.PureComponent);t.a=u},1690:function(e,t,a){e.exports={ChatDropdown:"Dropdown_ChatDropdown__34tKP",Btn:"Dropdown_Btn__3FGw8",Open:"Dropdown_Open__PuC9u",Items:"Dropdown_Items__IR149",slideup:"Dropdown_slideup__3eajm","hs-fadeIn":"Dropdown_hs-fadeIn__26zre",Hide:"Dropdown_Hide__S1EQ5",Caret:"Dropdown_Caret__1gRfD"}},1691:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(2132),o=a.n(s);t.a=r.a.memo((function(){return r.a.createElement("div",{className:o.a.main},r.a.createElement("div",{className:o.a.ldsring},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}))},1720:function(e,t,a){e.exports={item:"Item_item__1PDSu",roundImage:"Item_roundImage__2figc",redIcon:"Item_redIcon__1lQYQ",initials:"Item_initials__1vc9z",content:"Item_content__2VCN-",img:"Item_img__2HaKx",active:"Item_active__1QElT",hasUnreadMsg:"Item_hasUnreadMsg__jKiST",activeDot:"Item_activeDot__2lLDe",typing:"Item_typing__213Og",opened:"Item_opened__1cF0-"}},2132:function(e,t,a){e.exports={main:"Loader_main__TFdhI",ldsring:"Loader_ldsring__33R1M"}},2280:function(e,t,a){e.exports={header:"List_header__1GHzR",listContainer:"List_listContainer__1Rz3n",senderAndMsg:"List_senderAndMsg__PTfMO",senderName:"List_senderName__UvVhm",subName:"List_subName__2jLK5",msg:"List_msg__2zExc",msgText:"List_msgText__9G79W",isDeleteClassMargin:"List_isDeleteClassMargin__25Bbb",isDeleteClass:"List_isDeleteClass__2g8Kk",isItalicClass:"List_isItalicClass__1_xTn",singleDigitUnreadCount:"List_singleDigitUnreadCount__3IOvP",doubleDigitUnreadCount:"List_doubleDigitUnreadCount__x8mt3",muteIcon:"List_muteIcon__1y1rn",lastActive:"List_lastActive__5BsgZ",lableAndCheckbox:"List_lableAndCheckbox__2VdqH",faculty:"List_faculty__1RB95",parent:"List_parent__1UcKH",marginZero:"List_marginZero__39KOC",unseenHeader:"List_unseenHeader__RnECG",selectAll:"List_selectAll__3OukV",studentviewingWarning:"List_studentviewingWarning__ulCGX"}},2318:function(e,t,a){"use strict";var n=a(151),r=a(152),s=a(154),o=a(153),i=a(2),c=a.n(i),l=a(3363),d=a.n(l),u=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).scrolling=function(){var e=r.props,t=e.scrollDirection,a=e.hasMoreUp,n=e.hasMoreDown,s=e.loadMoreUp,o=e.loadMoreDown,i=e.loadingUp,c=e.loadingDown,l=e.isOnlyOneMessage,d=r.infiniteDivRef.current;0!==d.scrollTop||"up"!==t&&"both"!==t||!a||!s||i?d.scrollTop+d.getBoundingClientRect().height>=d.scrollHeight-(r.props.scrollThreshold||1)&&("down"===t||"both"===t)&&n&&o&&!l&&!c&&o():s(),d.scrollTop+d.getBoundingClientRect().height>=d.scrollHeight-(r.props.scrollThreshold||1)&&r.props.setisAtBottom?r.props.setisAtBottom(!0):!0===r.props.isAtBottom&&r.props.setisAtBottom&&r.props.setisAtBottom(!1)},r.state={},r.infiniteDivRef=e.infiniteDivRef||c.a.createRef(),r}return Object(r.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(){return{scrollHeight:this.infiniteDivRef.current.scrollHeight,scrollTop:this.infiniteDivRef.current.scrollTop,clientHeight:this.infiniteDivRef.current.clientHeight}}},{key:"componentDidMount",value:function(){"top"===this.props.initialPosition?this.infiniteDivRef.current.scrollTop=0:"bottom"===this.props.initialPosition&&(this.infiniteDivRef.current.scrollTop=this.infiniteDivRef.current.scrollHeight)}},{key:"componentDidUpdate",value:function(e,t,a){if(!this.props.shouldNotHandleScroll){var n=this.infiniteDivRef.current.scrollHeight;0===a.scrollTop&&e.children.length&&(this.infiniteDivRef.current.scrollTop=n-a.scrollHeight)}}},{key:"render",value:function(){var e=this.props,t=e.loadingUp,a=e.loadingDown,n=e.Loader,r=e.children;return c.a.createElement("div",{onScroll:this.scrolling,ref:this.infiniteDivRef,className:d.a.InfiniteScroll},t&&n,r,a&&n)}}]),a}(c.a.PureComponent);t.a=u},2677:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABKSURBVHgB7ZO7CQAgDERPcSA30k10RDfyAwo2iSTY6YNLlXvdATxpRsUo1hkPIXs5QsjrZXFsPwYXyJs1QEn+ElZCjskdBItCPTWBiTPD2v299AAAAABJRU5ErkJggg=="},2678:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return d}));var n=a(98),r=function(e){return{type:n.c,data:e}},s=function(e){return{type:n.g,id:e}},o=function(e){return{type:n.j,name:e}},i=function(e){return{type:n.k,data:e}},c=function(e){return{type:n.e,data:e}},l=function(e){return{type:n.i,selectAll:e}},d=function(){return{type:n.d}}},2772:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var n=a(485),r=function(e,t){return{type:n.a,member:e,isChecked:t}},s=function(e){return{type:n.b,selectAll:e}}},3357:function(e,t,a){},3358:function(e,t,a){e.exports={chatContainerParent:"App_chatContainerParent__P5Cdd",chatContainer:"App_chatContainer__3PiDO",chatContainerDiy:"App_chatContainerDiy__1VWS7"}},3359:function(e,t,a){e.exports={header:"Header_header__39F7j",listItems:"Header_listItems__2e5-B",activeDot:"Header_activeDot__1BFC5",broadcastHeader:"Header_broadcastHeader__3ypOm",filter:"Header_filter__3Raik",filterHeader:"Header_filterHeader__306ks",clearAll:"Header_clearAll__1MSzw",filterBody:"Header_filterBody__3CuVb",checkboxAndFilter:"Header_checkboxAndFilter__1TEgm",lables:"Header_lables__SwOIA",DropdownItems:"Header_DropdownItems__2FxJw",viewMore:"Header_viewMore__31MVP",batchModal:"Header_batchModal__2_RSd",broadCastHeader:"Header_broadCastHeader__1aN1o",backButton:"Header_backButton__2L_EF",studentGroups:"Header_studentGroups__1KRsz"}},3360:function(e,t,a){e.exports={ModalHeader:"FilterRecipient_ModalHeader__rFht4",inputBoxes:"FilterRecipient_inputBoxes__1Upxf",inlineFilter:"FilterRecipient_inlineFilter__1NGGm",inlineFilterAlignLeft:"FilterRecipient_inlineFilterAlignLeft__2qFf4",appDownloadsBtn:"FilterRecipient_appDownloadsBtn__1bLqP",checkedAppDownloadsBtn:"FilterRecipient_checkedAppDownloadsBtn__AKK7l",inputBox:"FilterRecipient_inputBox__35kQO",ModalFooter:"FilterRecipient_ModalFooter__6oooT",filter:"FilterRecipient_filter__3Sl1B",filterHeader:"FilterRecipient_filterHeader__2jKnH",clearAll:"FilterRecipient_clearAll__32XGV",filterBody:"FilterRecipient_filterBody__1oyxd",checkboxAndFilter:"FilterRecipient_checkboxAndFilter__zC51j",lables:"FilterRecipient_lables__My5o8",DropdownItems:"FilterRecipient_DropdownItems__2rDSY",viewMore:"FilterRecipient_viewMore__2sCr0",batchModal:"FilterRecipient_batchModal__2Rz9F",broadCastHeader:"FilterRecipient_broadCastHeader__sT8fT",backButton:"FilterRecipient_backButton__3Hr42",ModalBody:"FilterRecipient_ModalBody__1CF_d",seeMoreModalGrid:"FilterRecipient_seeMoreModalGrid__asEv0",cancelModal:"FilterRecipient_cancelModal__38Qkg",applyButton:"FilterRecipient_applyButton__YD94P",disabled:"FilterRecipient_disabled__2sTjY",breakLine:"FilterRecipient_breakLine__1u28Y"}},3361:function(e,t,a){e.exports={SearchForm:"Search_SearchForm__5sDuf",Tag:"Search_Tag__3zkWa",searchButton:"Search_searchButton__vkUbe"}},3362:function(e,t,a){e.exports=a.p+"static/media/search.763fc6cc.svg"},3363:function(e,t,a){e.exports={InfiniteScroll:"InfiniteScroll_InfiniteScroll__3CYvZ",element:"InfiniteScroll_element__1fdFH"}},3364:function(e,t,a){e.exports=a.p+"static/media/studyGroup.60098d9c.svg"},3365:function(e,t,a){e.exports=a.p+"static/media/msgIcon.7c16f23e.svg"},3366:function(e,t,a){e.exports=a.p+"static/media/group.8ace8c41.svg"},3367:function(e,t,a){e.exports=a.p+"static/media/broadCast.b2d982e2.svg"},3368:function(e,t,a){e.exports=a.p+"static/media/BellIcon.36b62acb.svg"},3369:function(e,t,a){e.exports=a.p+"static/media/filter.979b8d83.svg"},3370:function(e,t,a){e.exports={unseenHeader:"UnseenConversation_unseenHeader__3RZgG",unseenList:"UnseenConversation_unseenList__2XhS6",chatScrollButton:"UnseenConversation_chatScrollButton__2Qh1K",chatScrollButtonRight:"UnseenConversation_chatScrollButtonRight__28zTD",chatScrollButtonLeft:"UnseenConversation_chatScrollButtonLeft__2-Jlh"}},3371:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAfCAYAAADwbH0HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWlSURBVHgB1VffTxRXFL73zp3ZWZddilJQUBtMJI3UROKLgaqYNjQG+yg28kT6BzR9MH1EE59M26TpG28+VFJ8arC20aSBmtSY1FRrJUqEbsKPisTdhWVnZ3Z+3H5nZLcCu7BiH9qTbGZ35sz5zvnud889y9h/3LhSKvycP39e4CrWXMP75Ejfqwq4mUMxINnx48fFxMRE6Z26ujq+b98+dRffW7NZNTY2FtD9gYEBxXnopirF1dgmoAcOHOD4iFgsplmWJaN79+p7d+yQQRDISCQis9msrHddgWeas2cPf6+9nTc1NTECHh0dDRm4cOECq6riFWd+6tQp7dmzZ0LTNIlg2/fv339GStkhhGhD4N3k6ys1roJg2nPdH0ZGRoZra2s93/e96enpAIwEvb29QbnKeRnQkNrBwUENL8pIU5PsOnTow0Qs9gVuJ9gGhndn8vn8l6B8yIMhWffw4cM+PUKiq8DXUc1fLI7YATpBZeT9zs6L20xzAPcibBPDqwld1z94q6VFm3j8+M7zaFQtTE6qy5cvE+2rgMXLP2hNSUALCws6Eo4cO3bsMwT6mL2iGVJ+evLkyYvbUikTPyXFXKv2EjA9ICEBVNTU1OgdHR19hmF8wrZoIKv/6NGjPaDeSCaT8urVq6vAS1SDJgHhaHznTqOQTscOtbcPEnXsNQyJd0H130ajUWt2dja4du2aKlJe2vTYe6yus5Nrrmv09PT0Cs6bywVbWlpifX19bHx8fFNgJB5vbW09k8lkJK4aMVp8JlYcaPFF7eys7qdSumma3ZWCJRIJ1tzczM6ePVsVOGIdybiuicoF/HmR7hAYogrXFiYhpgiuuzcKdunSJdbd3V0VOHrA2zr6ANmuXbsI9B9ganEQFHdMUwBYh08r28SqBQebTY5tG8vLyxJrrhX3c1HVfH5+nhccR2AbSValgbaq/GLRqIS6w0qJ3RIwpM7Ri7ltWRw0c/Thp5sFO3fuHLt58ya7cuUKg2gq+qGQJ6gGMotrBw8eFCTiEjCoClM3PU8AVBUKhcl/A5QMffupg2sNPoirqMgS8MoaBy/8fAVafqsUiLbTzMxMVaAr/rcgGirMp/dOnz4dlIDJ6DSJx+MetOX9eu/edVSeKxeIttPQ0FBVoIgx/9OtW9dBtbu4uEiHhb9KXPQDG1zhTKVsCvlsNj03N/c5e02DYL8xOPdBsdvY2BhQsqv2MRn2sUJWgReJ4Gh18z/fvj0Kmr5jWzR0qyHE+B7isrGNHGwnF1oqVVzq1W1tbTydTrPG7du5A2kbSkk099+RqY5e+w57BUPCI9dv3BiMaNoSesIydGMBtIDigmKvLvVOouDhw4c6HDRkGUOWCVzjStMS7x450oOu8xG60JsbAWJNLST79d3798ewjxbB3BI0k02bZq41Hi90dXWtr5jmooaGBtXS0kJNhJQdOmAa4FPJ5J9TT578CPE9xxyE84MXkMQb9Nz1/QU7nx8HtTd+uXPnq8eTk39oSmWRRBaPc2DMmpuY8B49euSfOHGi1HHWjT7Dw8MatpZEtgYoiiJATSBlDJREMVuZWAWd+76kEQk00v4LIFdfIhl8t/E8R5UjeSsfi1lxx3HAooeOFbyMs270wQanBhIGxMykbNv2EcWXuCEMw8UJQuOUw6QsIJKN4yaPk8BSnpdzhVhGj1ouWFYOg0B+8sEDG0pW/f39/lqcilMmRKCBWn53bk5viMeNNMahqO+bAR1fkYgmXJeDCRHYtodXfBx/PpLMY9gupPN5d4+UPsYfl5UZ9MhEOWByxHp4mBh8EkUmmbTddDqHdV3SgyCTS6VScMug9hSqz2C6SAN0EaOtlZuZcf7COwSKOEE50IoVr/WhE6X4L4JG3lwupzCFivr6eoUlDAODHX9qaipcR2qLlQC3ZGv/P5EQ6Ttd2f/F/gbkaUEHmn3ofAAAAABJRU5ErkJggg=="},3372:function(e,t,a){e.exports={Backdrop:"FullScreenLoader_Backdrop__ri8sd",Loader:"FullScreenLoader_Loader__2N5_G",spin:"FullScreenLoader_spin__1eQHy"}},3373:function(e,t,a){e.exports={head:"CategoryModal_head__2l3tu",subheading:"CategoryModal_subheading__1tWo4",categoryHolder:"CategoryModal_categoryHolder__2xD4z",category:"CategoryModal_category__1loDL",selectedCategory:"CategoryModal_selectedCategory__2HIGD",footer:"CategoryModal_footer__1Bam_",body:"CategoryModal_body__T8Q2C"}},3374:function(e,t,a){},3464:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=(a(3357),a(25)),o=a(151),i=a(152),c=a(154),l=a(153),d=a(3358),u=a.n(d),p=a(497),h=a(79),m=a(3359),v=a.n(m),C=a(1289),g=a(8),f=a(318),b=a(3360),A=a.n(b),S=a(3361),_=a.n(S),y=r.a.memo((function(e){return r.a.createElement("div",{className:_.a.SearchForm+" SearchForm"},r.a.createElement("img",{src:a(3362)}),r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{className:_.a.searchButton,placeholder:e.placeholder?e.placeholder:"Search",onChange:e.onChange,onClick:e.onClick?e.onClick:function(){},type:"text",value:e.value})))})),E=a(140),k=a(64),L=a(2292),I=Object(E.connect)((function(e){return{appState:e.appState.state,searchTerm:e.filters.searchTerm,searchTermModal:e.filters.searchTermModal,user:e.persistedData&&e.persistedData.user}}),(function(e){return{setSearchTerm:function(t){e(Object(k.n)(t))}}}),null,{pure:!0})((function(e){var t=Object(L.a)().t,a=e.user&&1===e.user.type;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{onClick:function(){},placeholder:a?t("Chatv2.List.Search.searchByName","Search by name"):t("Chatv2.List.Search.searchByNameNumber","Search by name or number"),onChange:function(t){e.onChange?e.onChange(t):e.setSearchTerm(t.target.value)},value:"modal"==e.searchType?e.searchTermModal:e.searchTerm}))})),w=[{batchId:100,batchName:"Apoorv100"},{batchId:200,batchName:"Apoorv200"},{batchId:300,batchName:"Apoorv300"},{batchId:400,batchName:"Apoorv400"},{batchId:500,batchName:"Apoorv500"},{batchId:600,batchName:"Apoorv600"}],O=a(2318),F=a(1691),R=a(1098),T=a(2805),N=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).scrollDown=function(e){var t="course"==e?n.props.coursesList.length:n.props.batchesList.length;n.props.getFiltersListAction({offset:t,limit:20,type:"course"==e?2:1,search:n.props.searchTermModal.length?n.props.searchTermModal:void 0})},n.handleViewMore=function(e){n.setState({stateParam:"course"==e?"course":"batch"})},n.handleCloseSeeMoreBatches=function(e){"course"==e?n.setState({selectedArrayForCourses:n.props.coursesSelectedIndexArr}):n.setState({selectedArrayForBatches:n.props.batchesSelectedIndexArr})},n.applyFilters=function(){n.props.getUserListAction({shouldReplace:!0})},n.updateBatchesListState=function(e){var t=n.state.selectedArrayForBatches;t.includes(e)?n.setState((function(t){return{selectedArrayForBatches:t.selectedArrayForBatches.filter((function(t){return t!=e}))}})):t.includes(e)||n.setState((function(t){return{selectedArrayForBatches:[].concat(Object(g.a)(t.selectedArrayForBatches),[e])}}))},n.updateCoursesListState=function(e){var t=n.state.selectedArrayForCourses;t.includes(e)?n.setState((function(t){return{selectedArrayForCourses:t.selectedArrayForCourses.filter((function(t){return t!=e}))}})):t.includes(e)||n.setState((function(t){return{selectedArrayForCourses:[].concat(Object(g.a)(t.selectedArrayForCourses),[e])}}))},n.searchTermChange=function(e){n.props.setSearchModal(e.target.value)},n.selectAllBatches=function(e){var t=(n.props&&n.props.batchesList).map((function(e){return e.id}));"toSelectAll"==e?n.setState({selectedArrayForBatches:t,selectAllForFilter:!1}):"toUnselectAll"==e&&n.setState({selectedArrayForBatches:[],selectAllForFilter:!0})},n.getUsers=function(){var e=n.props,t=e.recepients,a=e.t,s=null===t||void 0===t?void 0:t.list.map((function(e){return e.id})),o=!(n.props.specialStudentFilter.includes(1)||n.props.specialStudentFilter.includes(2));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:A.a.inlineFilter},s&&s.includes(1)?r.a.createElement("div",{className:A.a.checkboxAndFilter},r.a.createElement("input",{type:"checkbox",disabled:!o,onChange:function(){return n.props.getUpdatedUserFilter(1)},checked:n.props.usersSelectedIndexArr&&n.props.usersSelectedIndexArr.includes(1)}),r.a.createElement("lable",{className:o?"":A.a.disabled},a("Chatv2.List.FilterRecipient.students1","Students"))):null,s&&(null===s||void 0===s?void 0:s.includes(3))?r.a.createElement("div",{className:A.a.checkboxAndFilter},r.a.createElement("input",{disabled:!o,type:"checkbox",onChange:function(){return n.props.getUpdatedUserFilter(3)},checked:n.props.usersSelectedIndexArr&&n.props.usersSelectedIndexArr.includes(3)}),r.a.createElement("lable",{className:o?"":A.a.disabled},a("Chatv2.List.FilterRecipient.faculty1","Faculty"))):null,s&&(null===s||void 0===s?void 0:s.includes(2))?r.a.createElement("div",{className:A.a.checkboxAndFilter},r.a.createElement("input",{disabled:!o,type:"checkbox",onChange:function(){return n.props.getUpdatedUserFilter(2)},checked:n.props.usersSelectedIndexArr&&n.props.usersSelectedIndexArr.includes(2)}),r.a.createElement("lable",{className:o?"":A.a.disabled},a("Chatv2.List.FilterRecipient.parents1","Parents"))):null),r.a.createElement("hr",{className:A.a.breakLine}))},n.getBatches=function(e){var t=n.state,a=t.selectedArrayForBatches,s=t.selectedArrayForCourses,o=n.props,i=o.batchesList,c=o.coursesList,l=o.t,d=n.props.specialStudentFilter.includes(1);"course"==e&&(i=c,d=n.props.specialStudentFilter.includes(2));var u=i&&i.length>5?r.a.createElement(r.a.Fragment,null,i&&i.slice(0,5).map((function(t,o){return r.a.createElement("div",{className:A.a.checkboxAndFilter,key:o},r.a.createElement("input",{type:"checkbox",disabled:d,onClick:function(){"course"==e?n.updateCoursesListState(t.id):n.updateBatchesListState(t.id),"course"==e?n.props.getUpdatedCourseFilter(t.id):n.props.getUpdatedBatchFilter(t.id)},checked:"course"==e?s&&s.includes(t.id):a&&a.includes(t.id)}),r.a.createElement("label",{className:d?A.a.disabled:""},t.name))})),r.a.createElement("div",{onClick:d?function(){}:function(){n.props.showFilterRecipients(!n.props.filterRecipients),n.handleViewMore(e),document.body.click()},className:A.a.viewMore+" "+(d?A.a.disabled:"")},l("Chatv2.List.FilterRecipient.viewMore1","View more"))):i&&i.map((function(t,a){return r.a.createElement("div",{className:A.a.checkboxAndFilter,key:a},r.a.createElement("input",{type:"checkbox",onClick:function(){"course"==e?n.updateCoursesListState(t.id):n.updateBatchesListState(t.id),"course"==e?n.props.getUpdatedCourseFilter(t.id):n.props.getUpdatedBatchFilter(t.id)},checked:"course"==e?n.props.coursesSelectedIndexArr&&n.props.coursesSelectedIndexArr.includes(t.id):n.props.batchesSelectedIndexArr&&n.props.batchesSelectedIndexArr.includes(t.id)}),r.a.createElement("label",null,t.name))}));return r.a.createElement(r.a.Fragment,null,u,"course"!==e&&r.a.createElement("hr",{className:A.a.breakLine}))},n.viewMoreModal=function(){var e=n.state,t=e.selectedArrayForBatches,a=e.selectedArrayForCourses,s=e.stateParam,o=n.props,i=o.batchesList,c=o.coursesList,l=o.totalCountBatch,d=o.totalCountCourse,u=o.loader,p=o.searchTermModal,h=o.t;return"course"==s&&(i=c),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.d,{className:A.a.batchModal,hidden:!n.props.filterRecipients,toggle:function(){n.props.showFilterRecipients(!n.props.filterRecipients),n.handleCloseSeeMoreBatches(s),n.props.setSearchModal("")}},r.a.createElement(f.c,null,r.a.createElement("div",{className:A.a.ModalHeader},r.a.createElement("span",null,h("Chatv2.List.FilterRecipient.filterBy1","Filter recipients by")," ","course"==s?h("Chatv2.List.FilterRecipient.courses","Courses"):h("Chatv2.List.FilterRecipient.batches","Batches")))),r.a.createElement(f.a,null,r.a.createElement("div",{className:A.a.ModalBody},r.a.createElement(I,{placeholder:"course"==s?h("Chatv2.List.FilterRecipient.searchCourses","Search courses"):h("Chatv2.List.FilterRecipient.searchBatches","Search batches"),value:p,onChange:function(e){n.searchTermChange(e)},searchType:"modal"}),r.a.createElement("div",{style:{height:"200px"}},r.a.createElement(O.a,{scrollDirection:"down",loadingDown:u,Loader:"",hasMoreDown:"course"==s?d>(i&&i.length):l>(i&&i.length),loadMoreDown:function(){return n.scrollDown(s)},shouldNotHandleScroll:!0},r.a.createElement("div",{className:A.a.inputBoxes+" "+A.a.seeMoreModalGrid},i&&i.map((function(e,o){return r.a.createElement("div",{className:A.a.checkboxAndFilter,key:o},r.a.createElement("input",{type:"checkbox",onClick:function(){"course"==s?n.updateCoursesListState(e.id):n.updateBatchesListState(e.id)},checked:"course"==s?a&&a.includes(e.id):t&&t.includes(e.id)}),r.a.createElement("label",null,e.name))})),u&&r.a.createElement(F.a,null)))))),r.a.createElement(f.b,null,r.a.createElement("div",{className:A.a.ModalFooter},r.a.createElement("button",{className:"buttonSecondary",onClick:function(){n.props.toggle(),n.handleCloseSeeMoreBatches(s),n.props.setSearchModal("")}},h("Chatv2.List.FilterRecipient.cancel1","Cancel")),r.a.createElement("button",{onClick:function(){"course"==s?n.props.getUpdatedCourseFilter(a):n.props.getUpdatedBatchFilter(t),n.applyFilters(),n.props.setSearchModal(""),n.props.getFiltersListAction({},!0),n.props.toggle()},className:A.a.applyButton},h("Chatv2.List.FilterRecipient.applyFilters1","Apply Filters"))))))},n.renderAppDownloads=function(){var e=n.props.usersSelectedIndexArr.length>0;return r.a.createElement("div",{className:A.a.inlineFilterAlignLeft},n.props.appDownloads&&n.props.appDownloads.list.map((function(t){return r.a.createElement("div",{key:t.id,onClick:e?function(){}:function(){return n.props.getUpdatedSpecialStudentFilter(t.id)},className:A.a.appDownloadsBtn+" "+(n.props.specialStudentFilter.includes(t.id)?A.a.checkedAppDownloadsBtn:"")+" "+(e?A.a.disabled:"")},t.name)})),r.a.createElement("hr",{className:A.a.breakLine,style:{borderTop:"none",marginTop:"2rem"}}))},n.state={selectedArrayForBatches:[],selectedArrayForCourses:[],selectAllBatchesSelected:!0,stateParam:"",searchTerm:"",batchesApi:w,offset:0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getFiltersListAction()}},{key:"componentDidUpdate",value:function(e){e.batchesSelectedIndexArr!=this.props.batchesSelectedIndexArr||e.usersSelectedIndexArr!=this.props.usersSelectedIndexArr||e.coursesSelectedIndexArr!=this.props.coursesSelectedIndexArr||e.specialStudentFilter!=this.props.specialStudentFilter?e.batchesSelectedIndexArr!=this.props.batchesSelectedIndexArr?this.setState({selectedArrayForBatches:this.props.batchesSelectedIndexArr}):e.coursesSelectedIndexArr!=this.props.coursesSelectedIndexArr&&this.setState({selectedArrayForCourses:this.props.coursesSelectedIndexArr}):e.searchTermModal!=this.props.searchTermModal&&this.props.getFiltersListAction({search:this.props.searchTermModal&&this.props.searchTermModal.length?this.props.searchTermModal:void 0,type:"course"===this.state.stateParam?2:1},!0)}},{key:"render",value:function(){var e=this,t=this.props.recepients,a=this.props.t;return r.a.createElement(r.a.Fragment,null,this.viewMoreModal(),r.a.createElement("li",{className:A.a.filter,style:{padding:"10px"}},r.a.createElement("div",{className:A.a.filterHeader},r.a.createElement("span",null,a("Chatv2.List.FilterRecipient.filters1","Filters")),r.a.createElement("span",null,r.a.createElement("span",{className:A.a.clearAll,onClick:function(){e.applyFilters(),window.document.body.click()}},a("Chatv2.List.FilterRecipient.apply1","Apply"),"\xa0\xa0"),r.a.createElement("span",{className:A.a.clearAll,onClick:function(){e.props.getUpdatedBatchFilter([]),e.props.getUpdatedUserFilter([]),e.props.getUpdatedCourseFilter([]),e.props.getUpdatedSpecialStudentFilter([]),e.setState({selectedArrayForBatches:[],selectedArrayForCourses:[]}),e.applyFilters()}},a("Chatv2.List.FilterRecipient.clearAll1","Clear All ")))),r.a.createElement("div",{className:A.a.filterBody,style:{maxHeight:"400px",overflowY:"auto",padding:(this.props.batchesList&&this.props.batchesList.length&&this.props.coursesList&&this.props.coursesList.length?this.props.appDownloads&&this.props.appDownloads.sectionName?"21rem":"14rem":"60px")+" 0.8rem 0 0.8rem"}},r.a.createElement("div",{className:A.a.lables},null===t||void 0===t?void 0:t.sectionName),this.getUsers(),this.props.appDownloads&&this.props.appDownloads.sectionName?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{paddingBottom:0},className:A.a.lables},this.props.appDownloads.sectionName),this.renderAppDownloads()):null,r.a.createElement(r.a.Fragment,null,this.props.batchesList&&r.a.createElement("div",{className:A.a.lables},r.a.createElement(R.a,{i18nKey:"Chatv2.List.FilterRecipient.batches"},"BATCHES"),"(",a("Chatv2.List.FilterRecipient.selected1","selected")," ",this.state.selectedArrayForBatches.length,")"),this.props.batchesList&&this.getBatches("batches")),r.a.createElement("div",{className:A.a.lables},r.a.createElement(R.a,{i18nKey:"Chatv2.List.FilterRecipient.courses"},"COURSES"),"(",a("Chatv2.List.FilterRecipient.selected1","selected")," ",this.state.selectedArrayForCourses.length,")"),this.getBatches("course"))))}}]),a}(n.Component),M=[];var D=Object(E.connect)((function(e){var t;return{batchesSelectedIndexArr:e.filters.batchesSelectedIndexArr||M,coursesSelectedIndexArr:e.filters.coursesSelectedIndexArr||M,usersSelectedIndexArr:e.filters.usersSelectedIndexArr||M,searchTermModal:e.filters.searchTermModal,loader:e.filters.loader,batchesList:e.conversationList.batchesList&&e.conversationList.batchesList.list,totalCountBatch:e.conversationList.batchesList&&e.conversationList.batchesList.totalCount,coursesList:e.conversationList.coursesList&&e.conversationList.coursesList.list,totalCountCourse:e.conversationList.coursesList&&e.conversationList.coursesList.totalCount,appDownloads:e.conversationList.appDownloads,specialStudentFilter:e.filters.specialStudentFilter,recepients:null===e||void 0===e||null===(t=e.conversationList)||void 0===t?void 0:t.recepients}}),(function(e){return{getUpdatedUserFilter:function(t){e(Object(k.w)(t))},getUpdatedBatchFilter:function(t){e(Object(k.r)(t))},getUpdatedCourseFilter:function(t){e(Object(k.t)(t))},getFiltersListAction:function(t,a){e(Object(k.d)(t,a))},getUserListAction:function(t){e(Object(k.f)(t))},setSearchModal:function(t){e(Object(k.m)(t))},getUpdatedSpecialStudentFilter:function(t){e(Object(k.u)(t))}}}),null,{pure:!0})(Object(T.a)()(N)),B=a(37),j=a(3364),x=a.n(j),H=a(74),U=a(86),G=a(48),P=a(19),z=a(2822),J=a(77),V=a(62);var W=Object(z.a)(Object(E.connect)((function(e){var t,a;return{appState:e.appState.state,user:e.persistedData.user,currentConversation:e.currentConversation,premiumStatus:e.persistedData.premiumStatus,listActions:e.conversationList.listActions,studentGroups:e.conversationList.studentGroups,studentGroupFilterSelected:e.conversationList.studentGroupFilterSelected,isChatCaretaker:null===e||void 0===e||null===(t=e.persistedData)||void 0===t||null===(a=t.caretakerPermissions)||void 0===a?void 0:a.chats}}),(function(e){return{changeState:function(t){e(Object(U.d)(t))},getUserListAction:function(t){e(Object(k.f)(t))},setConversationId:function(t){e(Object(G.u)(t))},updateCurrentConversation:function(t){e(Object(G.v)(t))},loadStudyGroup:function(t){e(Object(k.h)(t))}}}),null,{pure:!0})((function(e){var t=e.appState,n=e.user,s=e.currentConversation,o=e.premiumStatus,i=e.studentGroups,c=e.studentGroupFilterSelected,l=Object(L.a)().t,d=r.a.useState(!1),u=Object(h.a)(d,2),p=u[0],m=u[1],g=n&&n.type,f=Array.isArray(e.listActions)?e.listActions.map((function(e){return e.deeplink?e.deeplink.screen:""})):[];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v.a.header},("blank"===t||"details"===t)&&r.a.createElement(r.a.Fragment,null,c?r.a.createElement("span",{style:{display:"flex",alignItems:"center"},onClick:function(){return e.loadStudyGroup(!1)}},r.a.createElement("img",{src:a(2677)}),r.a.createElement("span",{className:v.a.studentGroups},i.title)):r.a.createElement("span",null,r.a.createElement(R.a,{i18nKey:"Chatv2.List.Header.chats"},"Chats")),!!f.length&&r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},!!i&&!!i.deeplink&&r.a.createElement("div",{className:"tooltip",onClick:function(){e.loadStudyGroup(!0),Object(H.c)("CHAT",{ACTION:"Student Groups click"})}},r.a.createElement("img",{src:x.a}),r.a.createElement("span",{className:v.a.activeDot}),r.a.createElement("div",{className:"tooltiptext3"},i.title)),r.a.createElement(C.a,{name:r.a.createElement("svg",{onClick:function(){Object(J.c)(V.mb,{SCREEN_NAME:V.vc})},width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M14 8H8V14H6V8H0V6H6V0H8V6H14V8Z",fill:"#212121"})),items:[f.includes("SCREEN_START_CONVERSATION")&&r.a.createElement("li",{key:"SCREEN_START_CONVERSATION",className:v.a.listItems,onClick:function(){e.changeState("newConversation"),Object(H.c)("CHAT",{ACTION:B.qb})}},r.a.createElement("img",{src:a(3365)}),"\xa0\xa0",l("Chatv2.List.Header.startConvo","Start a conversation")),f.includes("SCREEN_CREATE_GROUP_CHAT")&&r.a.createElement("li",{key:"SCREEN_CREATE_GROUP_CHAT",className:v.a.listItems,onClick:function(){P.history.push("/messages/createGroup"),e.setConversationId({_conversationId:null,conversationName:"New group Chat",permissions:{isAdmin:1,isMute:0,canMute:1,canDeleteMembers:1,canAddMembers:1,canReply:1,canTurnOffReply:1,canDeleteChat:1,canClearChat:1}}),e.changeState("createGroup"),1==g?Object(H.c)("CHAT",{ACTION:"Group study create click",ChatType:8}):Object(H.c)("CHAT",{ACTION:B.ob})}},r.a.createElement("img",{src:a(3366)}),"\xa0\xa0",l("Chatv2.List.Header.newGroupChat","New group chat")),f.includes("SCREEN_START_BROADCAST")&&r.a.createElement("li",{key:"SCREEN_START_BROADCAST",className:v.a.listItems,onClick:function(){Object(J.c)(V.nb,{SCREEN_NAME:V.vc}),P.history.push("/messages/broadcast"),e.changeState("broadcast"),Object(H.c)("CHAT",{ACTION:B.nb})}},r.a.createElement("img",{src:a(3367)}),"\xa0\xa0",l("Chatv2.List.Header.startBroadcast","Start a broadcast")),f.includes("MAKE_ANNOUNCEMENT")&&r.a.createElement("li",{key:"MAKE_ANNOUNCEMENT",className:v.a.listItems,onClick:function(){e.changeState("multiBatchAnnouncement"),e.history.push("/messages/batchAnnouncement"),Object(H.c)("CHAT",{ACTION:B.pb}),Object(J.c)(V.kb,{SCREEN_NAME:V.vc})}},r.a.createElement("img",{src:a(3368)}),"\xa0\xa0",l("Chatv2.List.Header.multipleBatch","Multiple batch announcement"))],ddnClass:v.a.DropdownItems,noCaret:!0}))),("broadcast"===t||"createGroup"===t||"newConversation"===t||"multiBatchAnnouncement"===t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:v.a.broadCastHeader},r.a.createElement("span",{className:v.a.backButton,onClick:function(){e.changeState("blank"),"newConversation"!==t&&e.history.goBack()}},r.a.createElement("img",{src:a(2677)})),r.a.createElement("span",{className:v.a.broadcastHeader},r.a.createElement("span",null,"createGroup"===t?!e.currentConversation.permissions.canAddMembers&&e.currentConversation._conversationId||"createGroup"!==t?"":l("Chatv2.List.Header.newGroupChat","New group chat"):"broadcast"===t?l("Chatv2.List.Header.startBroadcast","Start a broadcast"):"newConversation"===t?l("Chatv2.List.Header.startNewConvo","Start a new conversation"):l("Chatv2.List.Header.multiBatchAnn","Multiple Batch Announcement")),r.a.createElement("span",null,"createGroup"===t?e.currentConversation.permissions.canAddMembers||!e.currentConversation._conversationId?l("Chatv2.List.Header.addRecepients","Add recipient(s)"):l("Chatv2.List.Header.chats","Chats"):l("Chatv2.List.Header.selectRecepients","Select recipient(s)")))),"multiBatchAnnouncement"==t||3!=g||2==s.conversationSource&&1!=s.permissions.isAdmin||!e.isChatCaretaker&&1!=o?null:r.a.createElement(C.a,{name:r.a.createElement("img",{src:a(3369)}),notCloseInsideClick:!0,items:[r.a.createElement(D,{key:1,showFilterRecipients:m,filterRecipients:p,toggle:function(){return m(!p)}})],ddnClass:v.a.DropdownItems,noCaret:!0}))))}))),Y=a(2280),Q=a.n(Y),q=a(43),K=a(1720),X=a.n(K),Z=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).rgba="".concat(parseInt(200*Math.random()),", ").concat(parseInt(200*Math.random()),", ").concat(parseInt(200*Math.random())),n}return Object(i.a)(a,[{key:"render",value:function(){var e={};return this.props.imgSrc?e.src=this.props.imgSrc:e.style={backgroundImage:"linear-gradient(rgba(".concat(this.rgba,", 1), rgba(").concat(this.rgba,", 1))")},r.a.createElement("span",{className:X.a.redIcon,style:{cursor:"pointer"}},this.props.imgSrc?r.a.createElement("img",Object.assign({className:X.a.img},e)):r.a.createElement("span",Object.assign({className:X.a.img},e)," "),!this.props.imgSrc&&r.a.createElement("span",{className:X.a.initials},this.props.name?this.props.name.charAt(0):""),!!this.props.active&&!this.props.typing&&r.a.createElement("span",{className:X.a.activeDot},"\xa0"))}}]),a}(r.a.Component),$=Object(E.connect)((function(e){return{appState:e.appState.state}}),(function(e){return{changeState:function(){e(Object(U.d)("details"))}}}),null,{pure:!0})(Z),ee=a(2333);var te,ae=Object(ee.a)(Object(E.connect)((function(e){return{typing:e.conversationList.typing||{},online:e.conversationList.online,currentConversationId:e.currentConversation._conversationId}}),(function(e){return{setConversationId:function(t){e(Object(G.u)(t))},changeState:function(t){e(Object(U.d)(t))}}}),null,{pure:!0})((function(e){var t=e&&e.itemDetails,a=t&&t._conversationId===e.typing._conversationId,n=void 0!==e.online[t._conversationId]?e.online[t._conversationId]:t.isOnline,s=t&&e.currentConversationId===t._conversationId;return r.a.createElement("div",{onClick:function(){e.changeState("details"),e.setConversationId(t),localStorage.getItem("hideAll")&&window.parent.postMessage({event_id:"openStudentConvoInDIY",data:{conversationId:t._conversationId}},"*")},className:Q.a.itemHolder},t&&r.a.createElement($,{imgSrc:t&&t.conversationImage?t.conversationImage:null,name:t&&t.conversationName,typing:a,active:n,opened:s}))}))),ne=a(306),re=a(1142),se=a(393),oe=a(187),ie=["hasMore","onNext","loader","throttleDuration","children","style","className"],ce=se.c.div(te||(te=Object(re.a)(["\n  scroll: auto;\n"]))),le=n.forwardRef((function(e,t){var a=e.hasMore,r=e.onNext,s=e.loader,o=e.throttleDuration,i=void 0===o?0:o,c=e.children,l=e.style,d=e.className,u=Object(ne.a)(e,ie),p=function(e){var t=e.root,a=void 0===t?null:t,r=e.rootMargin,s=e.threshold,o=void 0===s?0:s,i=n.useState({}),c=Object(h.a)(i,2),l=c[0],d=c[1],u=n.useState(null),p=Object(h.a)(u,2),m=p[0],v=p[1],C=n.useRef(null);return n.useEffect((function(){C.current&&C.current.disconnect(),C.current=new window.IntersectionObserver((function(e){var t=Object(h.a)(e,1)[0];return d(t)}),{root:a,rootMargin:r,threshold:o});var e=C.current;return m&&e.observe(m),function(){return e.disconnect()}}),[m,a,r,o]),[v,l]}({rootMargin:"0px"}),m=Object(h.a)(p,2),v=m[0],C=m[1],g=n.useCallback(Object(oe.g)(r,i),[]);return n.useEffect((function(){C.intersectionRatio>0&&a&&g()}),[C,a,g]),n.createElement(ce,Object.assign({style:l,innerRef:t,className:d},u),c,n.createElement("div",{ref:v,style:{visibility:"hidden"}},"*"),C.intersectionRatio>0&&a&&(s||n.createElement("div",null,"Loading More...")))})),de=n.memo(le),ue=a(3370),pe=a.n(ue),he=a(3371),me=a.n(he);var ve=r.a.memo((function(e){var t=Object(L.a)().t,a=Object(n.useRef)(null),s=Object(n.useState)(0),o=Object(h.a)(s,2),i=o[0],c=o[1];return 0===e.unseenConversationList.length?null:r.a.createElement("div",null,r.a.createElement("div",{className:pe.a.unseenHeader},t("Chatv2.List.List.studentsAreWaiting","STUDENTS ARE WAITING FOR YOU")),r.a.createElement("div",{className:pe.a.unseenList},i>0&&r.a.createElement("button",{onClick:function(){a.current.scrollBy(-150,0),c(a.current.scrollLeft)},className:pe.a.chatScrollButton+" "+pe.a.chatScrollButtonLeft,style:{top:"2.5rem"}},r.a.createElement("img",{src:me.a,style:{width:"100%",height:"100%"}})),r.a.createElement(de,{ref:a,hasMore:e.hasMore,style:{textAlign:"center",display:"flex",flexDirection:"row",alignItems:"center",overflowX:"auto",padding:"1rem"},loader:r.a.createElement(q.r,{active:!0,inline:"centered",style:{marginRight:"20px"}}),onNext:e.getUnseenConversationList},e.unseenConversationList.length>0&&e.unseenConversationList.map((function(e,t){return r.a.createElement(ae,{itemDetails:e,key:t})}))),e.unseenConversationList.length>4&&r.a.createElement("button",{onClick:function(){a.current.scrollBy(150,0),c(a.current.scrollLeft)},className:pe.a.chatScrollButton+" "+pe.a.chatScrollButtonRight},r.a.createElement("img",{src:me.a,style:{width:"100%",height:"100%"}}))))})),Ce=a(2772),ge=a(2678),fe=a(58),be=r.a.lazy((function(){return a.e(104).then(a.bind(null,3526))})),Ae=r.a.lazy((function(){return a.e(97).then(a.bind(null,3527))})),Se=r.a.lazy((function(){return a.e(99).then(a.bind(null,3528))})),_e=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).scrollDown=function(){var t=e.props,a=t.appState,n=t.newListCount;["details","blank"].includes(a)&&n&&e.props.getConversationList()},e.mapList=function(){var t,a,n=e.props,s=n.appState,o=n.totalCount,i=n.conversationList,c=n.userTotalCount,l=n.userList,d=n.loading,u=new Set;switch(s){case"createGroup":var h=e.props.createGroup.members;u=new Set(h.map((function(e){return e.userId})))}return"details"===s||"blank"===s||e.props.currentConversation._conversationId&&!e.props.currentConversation.permissions.canAddMembers&&"createGroup"===s?r.a.createElement(Se,{scrollDown:e.scrollDown,conversationList:i,loading:d,totalCount:o}):"multiBatchAnnouncement"===s?r.a.createElement(be,{multiBatchAnnouncement:e.props.multiBatchAnnouncement,searchTerm:e.props.searchTerm}):r.a.createElement(Ae,{getUserListAction:e.props.getUserListAction,userList:l,loading:d,userTotalCount:c,appState:s,objectIdSet:u,membersInTheList:e.props.membersInTheList,lastUserListFetchedLength:e.props.lastUserListFetchedLength,isCreateGroupSelectAll:null===(t=Object(p.a)(e))||void 0===t||null===(a=t.props)||void 0===a?void 0:a.isCreateGroupSelectAll})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,n=this.props.persistedData,r=null===n||void 0===n||null===(e=n.organization)||void 0===e?void 0:e.countryCode,s=null===n||void 0===n||null===(t=n.organization)||void 0===t?void 0:t.defaultLanguage;r&&(fe.a.defaults.headers.common.region=r),s&&(fe.a.defaults.headers.common["accept-language"]=null===s||void 0===s||null===(a=s.toLowerCase())||void 0===a?void 0:a.substring(0,2));var o=n&&n.user&&3==n.user.type;this.props.getConversationList({shouldReplace:!0}),o&&this.props.getUnseenConversationList({shouldReplace:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props.appState,a=this.props.persistedData,n=a&&a.user&&3==a.user.type,r=["blank","details"];e.selectedTutorId&&this.props.selectedTutorId&&e.selectedTutorId!=this.props.selectedTutorId&&this.props.getConversationList({shouldReplace:!0}),!e.online&&this.props.online&&r.includes(e.appState)||e.appState!==t&&!r.includes(e.appState)&&r.includes(t)?(this.props.getConversationList({shouldReplace:!0}),n&&this.props.getUnseenConversationList({shouldReplace:!0})):e.appState===t||"broadcast"!==t&&(!this.props.currentConversation.permissions.canAddMembers&&this.props.currentConversation._conversationId||"createGroup"!==t)&&"newConversation"!==t?e.appState!==t&&"multiBatchAnnouncement"===t?this.props.getBatches():e.searchTerm!==this.props.searchTerm&&this.props.searchAction():this.props.getUserListAction()}},{key:"render",value:function(){var e,t,a,s,o,i,c,l,d=this,u=this.props,p=u.appState,h=u.unseenConversationList,m=u.hasMoreUnseenConv,v=u.unSeenTotalCount,C=u.persistedData,g=u.studentGroupFilterSelected,f=u.t,b=(C&&C.premiumStatus,C&&C.user&&3==C.user.type);return r.a.createElement("div",{className:Q.a.header},r.a.createElement(W,null),r.a.createElement(I,null),b&&h&&h.length>0&&!g?r.a.createElement(ve,{getUnseenConversationList:this.props.getUnseenConversationList,unseenConversationList:h,hasMore:m}):"",r.a.createElement("div",{className:Q.a.unseenHeader},r.a.createElement("span",null,"details"==this.props.appState||"blank"==this.props.appState?f("Chatv2.List.List.messages","MESSAGES"):"broadcast"==this.props.appState||"createGroup"==this.props.appState?f("Chatv2.List.List.users","USERS"):"multiBatchAnnouncement"==this.props.appState?f("Chatv2.List.List.batches","Batches"):f("Chatv2.List.List.messages","MESSAGES")),"broadcast"==this.props.appState&&r.a.createElement("span",{onClick:function(){var e=d.props.broadcast.selectAll&&0==d.props.broadcast.unSelectedMembers.length;d.props.selectAll(!e)},className:Q.a.selectAll},this.props.broadcast.selectAll&&0==this.props.broadcast.unSelectedMembers.length?f("Chatv2.List.List.unselect","Unselect"):f("Chatv2.List.List.select","Select")," ",f("Chatv2.List.List.allTextLabel","All")),(null===this||void 0===this||null===(e=this.props)||void 0===e?void 0:e.isGroupChatSelectAllEnabled)&&"createGroup"===(null===this||void 0===this||null===(t=this.props)||void 0===t?void 0:t.appState)&&!(null===this||void 0===this||null===(a=this.props)||void 0===a?void 0:a.conversationId)?r.a.createElement("span",{onClick:function(){var e,t,a,n,r=(null===d||void 0===d||null===(e=d.props)||void 0===e||null===(t=e.createGroup)||void 0===t?void 0:t.selectAll)&&0==(null===d||void 0===d||null===(a=d.props)||void 0===a||null===(n=a.createGroup)||void 0===n?void 0:n.unSelectedMembers.length);d.props.createGroupSelectAll(!r)},className:Q.a.selectAll},(null===this||void 0===this||null===(s=this.props)||void 0===s||null===(o=s.createGroup)||void 0===o?void 0:o.selectAll)&&0===(null===this||void 0===this||null===(i=this.props)||void 0===i||null===(c=i.createGroup)||void 0===c||null===(l=c.unSelectedMembers)||void 0===l?void 0:l.length)?f("Chatv2.List.List.unselect","Unselect"):f("Chatv2.List.List.select","Select")," ",f("Chatv2.List.List.allTextLabel","All")):null),g&&r.a.createElement("div",{className:Q.a.studentviewingWarning},f("Chatv2.List.List.studentsWillNot3","Students will not know that you are able to view these chats")),r.a.createElement("div",{className:Q.a.listContainer,style:{overflowY:"multiBatchAnnouncement"==p?"scroll":"hidden",height:v>0?"50vh":"70vh"}},r.a.createElement(n.Suspense,{fallback:r.a.createElement(r.a.Fragment,null)}," ",this.mapList())))}}]),a}(n.Component),ye=Object(E.connect)((function(e){var t,a,n,r,s,o,i=e.conversationList,c=i.totalCount,l=i.unSeenTotalCount,d=i.conversationList,u=i.unseenConversationList,p=i.userList,h=i.loading,m=i.newListCount;return{appState:e.appState.state,createGroup:e.createGroup,currentConversation:e.currentConversation,broadcast:e.broadcast,searchTerm:e.filters.searchTerm||"",multiBatchAnnouncement:e.multiBatchAnnouncement,conversationList:d,unseenConversationList:u,newListCount:m,totalCount:c,unSeenTotalCount:l,loading:h,userList:p,batchesList:e.conversationList.batchesList?e.conversationList.batchesList:[],online:e.appState.online,userTotalCount:e.conversationList.userTotalCount,persistedData:e.persistedData&&e.persistedData,studentGroupFilterSelected:e.conversationList.studentGroupFilterSelected,selectedTutorId:null===(t=e.settingsCareTakerReducer)||void 0===t||null===(a=t.selectedCartakerData)||void 0===a?void 0:a.tutorId,membersInTheList:null===e||void 0===e||null===(n=e.createGroup)||void 0===n?void 0:n.members,lastUserListFetchedLength:e.conversationList.lastUserListFetchedLength,isCreateGroupSelectAll:null===e||void 0===e||null===(r=e.createGroup)||void 0===r?void 0:r.selectAll,isGroupChatSelectAllEnabled:null===e||void 0===e||null===(s=e.conversationList)||void 0===s?void 0:s.isGroupChatSelectAllEnabled,conversationId:null===e||void 0===e||null===(o=e.currentConversation)||void 0===o?void 0:o._conversationId}}),(function(e){return{changeState:function(t){e(Object(U.d)(t))},getBatches:function(){e(Object(k.b)())},getConversationList:function(t){e(Object(k.c)(t))},getUnseenConversationList:function(t){e(Object(k.e)(t))},getUserListAction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(k.f)(t))},searchAction:function(){e(Object(k.j)())},selectAll:function(t){e(Object(Ce.b)(!!t))},createGroupSelectAll:function(t){e(Object(ge.b)(t))}}}),null,{pure:!0})(Object(T.a)()(_e)),Ee=a(3372),ke=a.n(Ee),Le=a(167),Ie=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).parent=document.createElement("div"),document.body.append(n.parent),n}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){this.parent.remove()}},{key:"render",value:function(){return Object(Le.createPortal)(r.a.createElement("div",{className:ke.a.Backdrop},r.a.createElement("div",{className:ke.a.Loader})),this.parent)}}]),a}(r.a.PureComponent),we=a(3373),Oe=a.n(we),Fe=a(386),Re=function(e){return{type:Fe.c,categoryAdded:e}},Te=a(131),Ne=a(5);var Me=Object(E.connect)((function(e){var t,a;return{categories:e.batchCategory.categories,selectedCategories:e.batchCategory.selectedCategories,userDetails:e.persistedData&&e.persistedData.user,tutorId:null===(t=e.settingsCareTakerReducer)||void 0===t||null===(a=t.selectedTutorDataForChats)||void 0===a?void 0:a.tutorId}}),(function(e){return{getCategories:function(t){var a={};t&&(a={pcIds:[t]}),e(function(e){return{type:Fe.b,params:e}}(a))},addCategory:function(t){e(function(e){return{type:Fe.c,id:e}}(t))},hideCategoryModal:function(){e(Re(!1))},getConversationList:function(t){e(Object(k.c)(t))}}}),null,{pure:!0})((function(e){var t=e.getCategories,s=e.categories,o=e.selectedCategories,i=e.addCategory,c=e.userDetails,l=Object(L.a)().t,d=Object(n.useState)(!1),u=Object(h.a)(d,2),p=u[0],m=u[1],v=Object(n.useState)([]),C=Object(h.a)(v,2),b=C[0],A=C[1];return Object(n.useEffect)((function(){if(0==b.length)return t();t(b[b.length-1])}),[b]),p?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.c,null,l("Chatv2.CategoryModal.thankyou","Thank you,"),c.name),r.a.createElement(f.a,null,l("Chatv2.CategoryModal.weWillAdd","We will add you to a community group, where you can interact and learn with your coaching friends online.")),r.a.createElement(f.b,null,r.a.createElement("div",{className:Oe.a.footer},r.a.createElement("button",{className:"btn-primary",style:{border:"none",width:"12rem"},onClick:function(){e.hideCategoryModal(),e.getConversationList()}},l("Chatv2.CategoryModal.okay","Okay"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.c,null,r.a.createElement("div",{className:Oe.a.head},!!b.length&&r.a.createElement("img",{onClick:function(){var e=Object(g.a)(b);e=e.slice(0,e.length-1),A(e)},style:{marginRight:"2rem"},src:a(2677)}),b.length?l("Chatv2.CategoryModal.selectSubjects","Select subjects which you want to study"):l("Chatv2.CategoryModal.helpUsKnow","Help us know what are you looking to study?"))),r.a.createElement(f.a,null," ",r.a.createElement("div",{className:Oe.a.body},r.a.createElement("div",{className:Oe.a.subheading},b.length?l("Chatv2.CategoryModal.betterThe","Better the details, better the engagement"):l("Chatv2.CategoryModal.thisWillHelpBetter","This will help us help you better.")),r.a.createElement("div",{className:Oe.a.categoryHolder},(s&&s.length?s:[]).map((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){!function(e){if(1==e.hasSubCategory){if(b.includes(e.id))return;A([].concat(Object(g.a)(b),[e.id]))}else i(e.id)}(e)},className:Oe.a.category+" "+(o.includes(e.id)?Oe.a.selectedCategory:"")},e.name)}))))),r.a.createElement(f.b,null,r.a.createElement("div",{className:Oe.a.footer},r.a.createElement("button",{className:"btn-primary",style:{border:"none",width:"12rem"},onClick:function(){if(0==o.length)return Ne.toastr.error(l("Chatv2.CategoryModal.toastr.selectCategory","Please select atleast one category"));Object(Te.d)({categoryIds:o},{tutorId:e.tutorId}).then((function(){Ne.toastr.success(l("Chatv2.CategoryModal.toastr.success","Success"),l("Chatv2.CategoryModal.toastr.successfullySaved","Successfully saved selected categories")),m(!0)})).catch((function(){Ne.toastr.error(l("Chatv2.CategoryModal.toastr.error","Error"),l("Chatv2.CategoryModal.toastr.errorSaving","Error while saving categories"))}))}},l("Chatv2.CategoryModal.done","Done")))))})),De=(a(3374),{background:"#009AE0",borderRadius:"4px",fontStyle:"normal",fontWeight:"600",fontSize:"16px",lineHeight:"24px",padding:"10px",color:"#FFFFFF",cursor:"pointer",outline:"none",border:"none",width:"120px"}),Be={background:"#CCCCCC",borderRadius:"4px",fontStyle:"normal",fontWeight:"600",fontSize:"16px",lineHeight:"24px",padding:"10px",color:"#FFFFFF",cursor:"pointer",outline:"none",border:"none",width:"120px"},je=a(1243),xe=a.n(je),He=Object(E.connect)((function(e){return{isOpenReportConversation:e.currentConversation&&e.currentConversation.reportConversation.isOpenReportConversation,reasons:e.currentConversation&&e.currentConversation.reportConversation.reasons,_conversationId:e.currentConversation&&e.currentConversation._conversationId,isLoading:e.currentConversation&&e.currentConversation.reportConversation.isLoading,headerText:e.currentConversation&&e.currentConversation.reportConversation.headerText,headerDescription:e.currentConversation&&e.currentConversation.reportConversation.headerDescription,options:e.currentConversation&&e.currentConversation.reportConversation.options}}),(function(e){return{openCloseReportConversation:function(t){return e(Object(G.p)(t))},addInReportConversation:function(t){return e(Object(G.a)(t))},submitReportConversation:function(t){return e(Object(G.A)(t))},getReportConversation:function(t){return e(Object(G.k)(t))}}}),null,{pure:!0})(Object(z.a)((function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),s=a[0],o=a[1],i=Object(L.a)().t;return r.a.createElement(r.a.Fragment,null,e.isOpenReportConversation?r.a.createElement("div",{className:"ReportConversation"},r.a.createElement("div",{className:"Report-Modal"},r.a.createElement("div",{className:"Report-Modal-Header"},r.a.createElement("div",{className:"Report-Modal-Header-Heading"},e.headerText),r.a.createElement("button",{className:"Report-Modal-CrossBtn",onClick:function(){e.openCloseReportConversation(!1),o("")}},r.a.createElement("img",{src:xe.a,alt:""}))),r.a.createElement("div",{className:"Report-Modal-Content"},r.a.createElement("div",{className:"Report-Modal-Content-Heading"},e.headerDescription),r.a.createElement("div",{className:"Report-Modal-Content-ItemList"},r.a.createElement(q.r,{active:e.isLoading,content:"Loading"}),e.options&&e.options.map((function(t){return r.a.createElement("div",{key:t.id,className:"Report-Modal-ItemList-Item",onClick:function(){return e.addInReportConversation({id:t.id})}},r.a.createElement(q.d,{checked:e.reasons&&e.reasons.includes(t.id)}),r.a.createElement("div",{className:"Report-Modal-ItemList-Item-Text"},t.text))}))),r.a.createElement("div",{className:"Report-Modal-Content-Explanation"},r.a.createElement("div",null,r.a.createElement(R.a,{i18nKey:"Chatv2.Routes.Details.ReportConversation.explanation"},"Explanation")),r.a.createElement("textarea",{className:"Report-Modal-Content-Explanation-Input",placeholder:i("Chatv2.Routes.Details.ReportConversation.giveFeedback","Give feedback, optional"),value:s,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"Report-Modal-Footer"},r.a.createElement(q.b,{style:e.reasons.length?De:Be,primary:!0,size:"large",onClick:function(){var t={_conversationId:e._conversationId,explanation:s,reasons:e.reasons};e.submitReportConversation(t),o("")},disabled:0===e.reasons.length},r.a.createElement(R.a,{i18nKey:"Chatv2.Routes.Details.ReportConversation.submit"},"Submit")))))):"")}))),Ue=a(1101).a,Ge=a(1102),Pe=a(1097),ze=Object(n.lazy)((function(){return a.e(130).then(a.bind(null,1778))})),Je=Object(n.lazy)((function(){return Promise.all([a.e(141),a.e(60)]).then(a.bind(null,3494))})),Ve=Object(n.lazy)((function(){return Promise.all([a.e(33),a.e(77)]).then(a.bind(null,3454))})),We=Object(n.lazy)((function(){return a.e(98).then(a.bind(null,3455))})),Ye=r.a.memo((function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(r.a.Fragment,null)},r.a.createElement(Ue,{history:P.history},r.a.createElement(Ge.a,null,r.a.createElement(Pe.a,{exact:!0,path:"/messages/details",render:function(){return r.a.createElement(Je,null)}}),r.a.createElement(Pe.a,{exact:!0,path:"/messages/newConversation",render:function(){return r.a.createElement(Je,null)}}),r.a.createElement(Pe.a,{exact:!0,path:"/messages/broadcast",render:function(){return r.a.createElement(Ve,null)}}),r.a.createElement(Pe.a,{exact:!0,path:"/messages/createGroup",render:function(){return r.a.createElement(We,null)}}),r.a.createElement(Pe.a,{exact:!0,path:"/messages/batchAnnouncement",render:function(){return r.a.createElement(Ve,null)}}),r.a.createElement(Pe.a,{path:"/",render:function(){return r.a.createElement(ze,null)}}))))})),Qe=a(171),qe=a(499);var Ke=a.n(qe)()(Object(E.connect)((function(e){return{appState:e.appState.state}}),(function(e){return{changeState:function(t){e(Object(U.d)(t))},setConversationId:function(t){e(Object(G.u)(t))}}}),null,{pure:!0})((function(e){return Object(n.useEffect)((function(){!function(t){if(t.includes("broadcast"))e.changeState("broadcast");else if(t.includes("details")||t.includes("newConversation")){var a=Object(oe.e)(["convId"],window.location.href).convId;e.changeState("details"),a&&e.setConversationId({_conversationId:a})}else t.includes("createGroup")?(e.changeState("createGroup"),e.setConversationId({_conversationId:null,conversationName:"New group Chat",permissions:{isAdmin:1,isMute:0,canMute:1,canDeleteMembers:1,canAddMembers:1,canReply:1,canTurnOffReply:1,canDeleteChat:1,canClearChat:1}})):t.includes("batchAnnouncement")?e.changeState("multiBatchAnnouncement"):e.changeState("blank")}(e.location.pathname)}),[e.location.pathname]),r.a.createElement(r.a.Fragment,null)}))),Xe=a(1219),Ze=a(106),$e=a(1187);function et(){return r.a.createElement("style",null,"html {font-size: 10px, overflow: inherit !important}")}var tt=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.call(this)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this.props,a=t.region,n=t.defaultLanguage,r=t.isCaretaker,s=t.isChatCaretaker,o=t.chatCaretakers;(a&&(fe.a.defaults.headers.common.region=a),n)&&(fe.a.defaults.headers.common["accept-language"]=null===n||void 0===n||null===(e=n.toLowerCase())||void 0===e?void 0:e.substring(0,2));this.props.location.search.includes("_conversationId")&&this.props.changeState("details"),this.props.persistedData&&this.props.persistedData.organization&&this.props.persistedData.organization.toShowCategorySelection||this.props.showCategoryModal(!1),document.getElementsByTagName("html")[0].style.fontSize="10px",this.props.chatTabClicked();var i=JSON.parse(localStorage.getItem("selectedChatCaretakerData"));r&&s&&(null===o||void 0===o?void 0:o.length)&&this.props.setSelectedCaretakerData({caretakerData:(null===i||void 0===i?void 0:i.id)?i:o[0]})}},{key:"componentDidUpdate",value:function(e){var t,a,n,r,s=this.props,o=s.isCaretaker,i=s.isChatCaretaker;(e.showReadSign!==this.props.showReadSign&&this.props.chatTabClicked(),o&&i&&(null===(t=this.props.chatCaretakers)||void 0===t?void 0:t.length)&&(null===(a=e.chatCaretakers)||void 0===a?void 0:a.length)!=(null===(n=this.props.chatCaretakers)||void 0===n?void 0:n.length))&&this.props.setSelectedCaretakerData({caretakerData:null===(r=this.props)||void 0===r?void 0:r.chatCaretakers[0]})}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("html")[0].style.fontSize="14px"}},{key:"render",value:function(){var e,t=this,a=localStorage.getItem("hideAll");return this.props.user?r.a.createElement("div",{className:u.a.chatContainerParent},this.props.isCaretaker&&this.props.isChatCaretaker&&(null===(e=this.props.chatCaretakers)||void 0===e?void 0:e.length)?r.a.createElement(Xe.a,{isDiy:a,type:Ze.a.CHATS}):null,r.a.createElement("div",{className:u.a.chatContainer+" ".concat(a&&u.a.chatContainerDiy),style:this.props.isChatCaretaker?{marginTop:"24px",height:"90%"}:{}},r.a.createElement(f.d,{hidden:!this.props.isCategoryAdded,toggle:function(){t.props.showCategoryModal(!t.props.isCategoryAdded)}},r.a.createElement(Me,null)),r.a.createElement(et,null),r.a.createElement(He,null),this.props.persistedData&&this.props.persistedData.token&&r.a.createElement(ye,null),r.a.createElement(Ye,null),r.a.createElement(Ke,null),this.props.appLoader&&r.a.createElement(Ie,null))):null}}]),a}(r.a.Component),at=Object(z.a)(Object(E.connect)((function(e){var t,a,n,r,o,i,c,l,d;return d={appState:e.appState,showReadSign:e.appState.showReadSign,appLoader:!!e.appState.appLoader,persistedData:e.persistedData,user:e.persistedData&&e.persistedData.user,isCategoryAdded:e.batchCategory.isCategoryAdded},Object(s.a)(d,"persistedData",e.persistedData),Object(s.a)(d,"isCaretaker",null===e||void 0===e||null===(t=e.persistedData)||void 0===t?void 0:t.isCaretaker),Object(s.a)(d,"isChatCaretaker",null===e||void 0===e||null===(a=e.persistedData)||void 0===a||null===(n=a.caretakerPermissions)||void 0===n?void 0:n.chats),Object(s.a)(d,"chatCaretakers",null===e||void 0===e||null===(r=e.settingsCareTakerReducer)||void 0===r?void 0:r.chatCaretakers),Object(s.a)(d,"region",null===e||void 0===e||null===(o=e.persistedData)||void 0===o||null===(i=o.organization)||void 0===i?void 0:i.countryCode),Object(s.a)(d,"defaultLanguage",null===e||void 0===e||null===(c=e.persistedData)||void 0===c||null===(l=c.organization)||void 0===l?void 0:l.defaultLanguage),d}),(function(e){return{chatUnmount:function(){e(Object(U.g)())},changeState:function(t){e(Object(U.d)(t))},showCategoryModal:function(t){e(Re(t))},chatTabClicked:function(){Object(Qe.a)(),e(Object(U.f)())},setSelectedCaretakerData:function(t){e(Object($e.f)(t))}}}),null,{pure:!0})(tt));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t.default=r.a.memo((function(e){return r.a.createElement(at,e)}))}}]);